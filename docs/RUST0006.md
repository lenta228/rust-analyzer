# RUST0006: Unsafe reflection access to private member

## Cause

This diagnostic is triggered when reflection is used to access private fields of a class. This practice breaks encapsulation and can lead to maintenance issues.

## Rule description

The analyzer detects usage of `GetField()` method with `BindingFlags.NonPublic` to access private fields. While reflection makes this technically possible, it's generally considered a bad practice as it:
- Breaks encapsulation
- Makes code harder to maintain
- Can break when the internal implementation changes
- May cause issues with different runtime versions

## How to fix violations

Instead of using reflection to access private fields:

1. Use public properties or methods if they exist
2. Add a public property or method to access the data
3. If the field is in your own code, consider making it protected or internal
4. If you must use reflection (e.g., for testing), isolate it in a specific test utility class

### Example of violation:

```csharp
var field = typeof(MyClass).GetField("_privateField", 
    BindingFlags.NonPublic | BindingFlags.Instance);
var value = field.GetValue(instance);
```

### Example of fix:

```csharp
// In MyClass
public int GetPrivateFieldValue() => _privateField;

// Usage
var value = instance.GetPrivateFieldValue();
```

## When to suppress warnings

Suppress this warning if:
- You are writing test code that needs to verify private state
- You are implementing a serialization/deserialization system
- You are working with third-party code that requires reflection access

```csharp
#pragma warning disable RUST0006
// reflection access code here
#pragma warning restore RUST0006
```
